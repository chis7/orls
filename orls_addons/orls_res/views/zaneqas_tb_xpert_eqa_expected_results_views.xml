<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="action_open_form_view_server" model="ir.actions.server">
        <field name="name">Open Form View</field>
        <field name="model_id" ref="model_orls_gen_surgery_rotation_procedures_operations"/>
        <field name="binding_model_id" ref="model_orls_gen_surgery_rotation_procedures_operations"/>
        <field name="state">code</field>
        <field name="code">
            action = {
            'type': 'ir.actions.act_window',
            'name': 'Submit Report',
            'res_model': 'orls.gen.surgery.rotation.procedures.operations',
            'view_mode': 'form',
            'view_id': env.ref('orls.orls_gen_surgery_rotation_procedures_operations_wizard_form').id,
            'res_id': record.id,
            'target': 'new'
            }
        </field>
    </record>

    <record id="orls_gen_surgery_rotation_procedures_operations_tree" model="ir.ui.view">
        <field name="name">orls.gen.surgery.rotation.procedures.operations.tree</field>
        <field name="model">orls.gen.surgery.rotation.procedures.operations</field>
        <field name="arch" type="xml">
            <tree>
                <!--                <field name="user_in_assigned_company_and_open" column_invisible="True"/>-->
                <field name="name"/>
                <field name="internship_center_id"/>
                <field name="start_date"/>
                <field name="end_date"/>
                <field name="state"/>
                <!--                                <button name="%(action_open_form_view_server)d"-->
<!--                <button name="open_results_submission_wizard"-->
<!--                        confirm="You are about to start entering your results for submission. Are you sure you want to proceed?"-->
<!--                        string="Submit Results"-->
<!--                        type="object"-->
<!--                        class="btn-primary"/>-->
                <!--                                        invisible="user_in_assigned_company_and_open == False"/>-->
                <!--                        context="{'hide_participants_page': True, 'hide_internal_states': True, 'open_notebook2': True}"-->
                <!--                        invisible="user_in_assigned_company_and_open == False"/>-->
            </tree>
        </field>
    </record>

    <record id="orls_gen_surgery_rotation_procedures_operations_form" model="ir.ui.view">
        <field name="name">orls.gen.surgery.rotation.procedures.operations.form</field>
        <field name="model">orls.gen.surgery.rotation.procedures.operations</field>
        <field name="arch" type="xml">
            <form>
                <header>

                    <button name="action_save_eqa_result_as_draft" data-hotkey="v"
                            confirm="Are you sure you want to save as draft?"
                            string="Save as Draft" class="btn-primary" type="object"
                            context="{'validate_analytic': True}"
                            invisible="state != 'draft' "/>
                    <button name="action_submit_eqa_result_to_supervisor" data-hotkey="v"
                            confirm="Are you sure you want to make this submission?"
                            string="Save and Submit" class="btn-primary" type="object"
                            context="{'validate_analytic': True}"
                            invisible="state != 'draft' "/>
                    <button name="action_supervisor_approve_eqa_result" data-hotkey="v"
                            confirm="Are you sure you want to make this approval?"
                            string="Approve" class="btn-primary" type="object" context="{'validate_analytic': True}"
                            invisible="state != 'supervisor' "/>
                    <button name="action_supervisor_send_back_eqa_result" data-hotkey="v"
                            confirm="Are you sure you want to send back?"
                            string="Send Back" class="btn-primary" type="object" context="{'validate_analytic': True}"
                            invisible="state != 'supervisor' "/>
                    <button name="action_open_eqa_result" data-hotkey="v"
                            confirm="Are you sure you want to open this PT cycle?"
                            string="Open PT Cycle" class="btn-primary" type="object"
                            context="{'validate_analytic': True}"
                            invisible="state != 'supervisor' "/>

                    <field name="state" context="{'validate_analytic': True}" widget="statusbar"
                           statusbar_visible="draft,supervisor,approved,open,extended,closed,resultsPublished"
                           options="{'clickable':'1'}"/>
                    <!--                           invisible = "[('context.hide_internal_states', '=', True), ('state', 'in', ['draft','supervisor','approved'])]"/>-->

                </header>

                <sheet>
                    <group>
                        <group>
                            <!--                            <field name="name" domain="[('state', '=', 'approved')]"/>-->
                            <field name="name"/>
                            <field name="start_date" widget="daterange" string="Period of Rotation"
                                   options="{'end_date_field': 'end_date'}" readonly="state != 'draft'"/>
                            <field name="end_date" invisible="1"/>
                            <!--                            <field name="due_date"/>-->
                            <!--                            <field name="due_date" readonly="[('context.hide_participants_page', '=', True)]"/>-->
                        </group>
                        <group>
                            <field name="internship_center_id"/>
                            <field name="hpcz_Reg_No"/>
                            <field name="hpcz_license_No"/>
                        </group>
                    </group>

                    <!--                <notebook invisible="[('user_company_in_list', '=', False)]">-->
                    <notebook>
                        <page string="Surgical toilet-10(p)" id="orls_surgical_toilet_ids">
                            <field name="orls_surgical_toilet_ids">
                                <tree editable="top">
                                    <field name="number_of_cases"/>
                                    <field name="file_no"/>
                                    <field name="date"/>
                                    <field name="resident_involvement"/>
                                    <!--                                    <field name="supervisor_id"/>-->

                                </tree>
                            </field>
                        </page>
                        <page string="Suturing Wound-10(p)" id="orls_suturing_wound_ids">
                            <field name="orls_suturing_wound_ids">
                                <tree editable="top">
                                    <field name="number_of_cases"/>
                                    <field name="file_no"/>
                                    <field name="date"/>
                                    <field name="resident_involvement"/>
                                    <!--                                    <field name="supervisor_id"/>-->

                                </tree>
                            </field>
                        </page>
                        <page string="Incision and drainage of Abscess 1 (O) 2(p)"
                              id="orls_incision_drainage_abscess_ids">
                            <field name="orls_incision_drainage_abscess_ids">
                                <tree editable="top">
                                    <field name="number_of_cases"/>
                                    <field name="file_no"/>
                                    <field name="date"/>
                                    <field name="resident_involvement"/>
                                    <!--                                    <field name="supervisor_id"/>-->
                                </tree>
                            </field>
                        </page>
                        <page string="Insertion of chest tubes 3(p)" id="orls_insertion_chest_tubes_ids">
                            <field name="orls_insertion_chest_tubes_ids">
                                <tree editable="top">
                                    <field name="number_of_cases"/>
                                    <field name="file_no"/>
                                    <field name="date"/>
                                    <field name="resident_involvement"/>
                                    <!--                                    <field name="supervisor_id"/>-->

                                </tree>
                            </field>
                        </page>
                        <page string="Removal of stitches 10(p)" id="orls_removal_of_stitches_ids">
                            <field name="orls_removal_of_stitches_ids">
                                <tree editable="top">
                                    <field name="number_of_cases"/>
                                    <field name="file_no"/>
                                    <field name="date"/>
                                    <field name="resident_involvement"/>
                                    <!--                                    <field name="supervisor_id"/>-->

                                </tree>
                            </field>
                        </page>

                    </notebook>
                    <notebook>
                        <page string="Monthly Performance Review" id="rif_detection_result">
                            <field name="orls_operation_monthly_review_lines_ids">
                                <tree editable="top">
                                    <field name="month"/>
                                    <field name="resident_comment"/>
                                    <field name="supervisor_comment"/>
                                    <field name="resident_coordinator_comment"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Clinical/Audit Meetings Presented" id="rif_detection_result">
                            <field name="orls_operation_clinical_or_audit_meetings_presented_lines_ids">
                                <tree editable="top">
                                    <field name="date"/>
                                    <field name="topic"/>
                                    <field name="venue"/>
                                    <field name="consultant_id"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Teaching Rounds Attended" id="tb_detection_result">
                            <field name="orls_operation_teaching_rounds_attended_lines_ids">
                                <tree editable="top">
                                    <field name="date"/>
                                    <field name="ward_round"/>
                                    <field name="venue"/>
                                    <field name="consultant_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>

                    <!--                    <notebook groups="zaneqas_tb.group_cdl_staff">-->
                    <!--                                        <notebook groups="zaneqas_tb.group_cdl_staff">-->
                    <!--                                            <page string="Participant(s)" invisible="context.hide_participants_page == False">-->
                    <!--                                                <group>-->
                    <!--                                                    <a name="download_csv_template"-->
                    <!--                                                       type="object">-->
                    <!--                                                        &lt;!&ndash;                                   invisible="state != 'draft' and company_ids">&ndash;&gt;-->
                    <!--                                                        Download Template-->
                    <!--                                                    </a>-->
                    <!--                                                    <field name="csv_file" filename="csv_filename"/>-->
                    <!--                                                    &lt;!&ndash;                                       invisible="state != 'draft' or company_ids"/>&ndash;&gt;-->
                    <!--                                                    <a name="action_test_upload"-->
                    <!--                                                       type="object"-->
                    <!--                                                       string="Test Upload">-->
                    <!--                                                        &lt;!&ndash;                                   invisible="state != 'draft' or not csv_file">&ndash;&gt;-->
                    <!--                                                        Test Upload-->
                    <!--                                                    </a>-->
                    <!--                                                    <a name="import_companies_from_csv"-->
                    <!--                                                       confirm="Are you sure you want to import companies from the attached file?"-->
                    <!--                                                       type="object">-->
                    <!--                                                        &lt;!&ndash;                                   invisible="state != 'draft' and company_ids">&ndash;&gt;-->
                    <!--                                                        Import Participating Facilities-->
                    <!--                                                    </a>-->
                    <!--                                                </group>-->

                    <!--                                                <field name="company_ids" widget="many2many_tags"-->
                    <!--                                                       readonly="state != 'draft' and company_ids"/>-->

                    <!--                                                &lt;!&ndash;                            <field name="company_ids" widget="many2many_tags"/>&ndash;&gt;-->
                    <!--                                            </page>-->
                    <!--                                        </notebook>-->

                </sheet>
                <div class="oe_chatter" context="{'validate_analytic': True}">
                    <field name="message_follower_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>
    <record id="orls_gen_surgery_rotation_procedures_operations_wizard_form" model="ir.ui.view">
        <field name="name">orls.gen.surgery.rotation.procedures.operations.wizard.form</field>
        <field name="model">orls.gen.surgery.rotation.procedures.operations</field>
        <field name="arch" type="xml">
            <form>
                <!--                <header>-->
                <!--                    <h3>-->
                <!--                        <field name="name" readonly="1" nolabel="1" widget="statusbar" options="{'clickable':'0'}"/>-->
                <!--                    </h3>-->

                <!--                </header>-->
                <!--                <sheet>-->
                <!--                    <group>-->
                <!--                        <group>-->
                <!--                            <field name="is_supervisor" invisible="1"/>-->
                <!--                            <field name="is_LabIncharge" invisible="1"/>-->
                <!--                            <field name="supervisor_comment" readonly="is_supervisor == False"/>-->
                <!--                            <field name="lab_incharge_comment" readonly="is_LabIncharge == False"/>-->
                <!--                        </group>-->
                <!--                    </group>-->


                <!--                    <div class="oe_title" style="text-align:center;">-->

                <!--                    </div>-->
                <!--                    <group>-->
                <!--                        <group>-->
                <!--                            &lt;!&ndash;                            <field name="name" domain="[('state', '=', 'approved')]"/>&ndash;&gt;-->
                <!--                            <field name="date_panel_received"/>-->
                <!--                            <field name="date_of_last_gene_xpert_instrument_calibration_or_installation"/>-->
                <!--                        </group>-->
                <!--                        <group>-->
                <!--                            <field name="xpert_assay_used" domain="[('state', '=', 'approved')]"/>-->
                <!--                            <field name="expiry_date"/>-->
                <!--                            <field name="catridge_lot_number"/>-->
                <!--                        </group>-->

                <!--                        <br/>-->
                <!--                        <br/>-->
                <!--                    </group>-->
                <!--                    <div>-->

                <!--                        <br/>-->
                <!--                        <br/>-->
                <!--                        <h5>-->
                <!--                            <b>Instructions:</b>-->
                <!--                            Tick the appropriate checkboxes below corresponding to the-->
                <!--                            results after testing each sample provided. Document the error code in the Error Code column-->
                <!--                            for tests resulting in error. Record the cycle thresholds (Ct) in the cells provided for all-->
                <!--                            successful tests.-->
                <!--                        </h5>-->
                <!--                    </div>-->
                <notebook>
                    <page string="Surgical toilet-10(p)" id="orls_surgical_toilet_ids2">
                        <field name="orls_surgical_toilet_ids">
                            <tree editable="top">
                                <field name="number_of_cases"/>
                                <field name="file_no"/>
                                <field name="date"/>
                                <field name="resident_involvement"/>
                                <!--                                    <field name="supervisor_id"/>-->

                            </tree>
                        </field>
                    </page>
                    <page string="Suturing Wound-10(p)" id="orls_suturing_wound_ids2">
                        <field name="orls_suturing_wound_ids">
                            <tree editable="top">
                                <field name="number_of_cases"/>
                                <field name="file_no"/>
                                <field name="date"/>
                                <field name="resident_involvement"/>
                                <!--                                    <field name="supervisor_id"/>-->

                            </tree>
                        </field>
                    </page>
                    <page string="Incision and drainage of Abscess 1 (O) 2(p)" id="orls_incision_drainage_abscess_ids2">
                        <field name="orls_incision_drainage_abscess_ids">
                            <tree editable="top">
                                <field name="number_of_cases"/>
                                <field name="file_no"/>
                                <field name="date"/>
                                <field name="resident_involvement"/>
                                <!--                                    <field name="supervisor_id"/>-->
                            </tree>
                        </field>
                    </page>
                    <page string="Insertion of chest tubes 3(p)" id="orls_insertion_chest_tubes_ids2">
                        <field name="orls_insertion_chest_tubes_ids">
                            <tree editable="top">
                                <field name="number_of_cases"/>
                                <field name="file_no"/>
                                <field name="date"/>
                                <field name="resident_involvement"/>
                                <!--                                    <field name="supervisor_id"/>-->

                            </tree>
                        </field>
                    </page>
                    <page string="Removal of stitches 10(p)" id="orls_removal_of_stitches_ids2">
                        <field name="orls_removal_of_stitches_ids">
                            <tree editable="top">
                                <field name="number_of_cases"/>
                                <field name="file_no"/>
                                <field name="date"/>
                                <field name="resident_involvement"/>
                                <!--                                    <field name="supervisor_id"/>-->

                            </tree>
                        </field>
                    </page>

                </notebook>
                <notebook>
                    <page string="Monthly Performance Review" id="orls_operation_monthly_review_lines_ids">
                        <field name="orls_operation_monthly_review_lines_ids">
                            <tree editable="top">
                                <field name="month"/>
                                <field name="resident_comment"/>
                                <field name="supervisor_comment"/>
                                <field name="resident_coordinator_comment"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Clinical/Audit Meetings Presented"
                          id="orls_operation_clinical_or_audit_meetings_presented_lines_ids">
                        <field name="orls_operation_clinical_or_audit_meetings_presented_lines_ids">
                            <tree editable="top">
                                <field name="date"/>
                                <field name="topic"/>
                                <field name="venue"/>
                                <field name="consultant_id"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Teaching Rounds Attended" id="orls_operation_teaching_rounds_attended_lines_ids">
                        <field name="orls_operation_teaching_rounds_attended_lines_ids">
                            <tree editable="top">
                                <field name="date"/>
                                <field name="ward_round"/>
                                <field name="venue"/>
                                <field name="consultant_id"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
                <!--                    <group>-->
                <!--                        <field name="pdf_file" filename="pdf_filename"/>-->
                <!--                    </group>-->
                <!--                </sheet>-->
                <footer>
                    <button string="Submit" type="object" name="action_submit_results" class="btn-primary"
                            confirm="Are you sure you want to submit?"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="zaneqas_tb_xpert_eqa_expected_results_search" model="ir.ui.view">
        <field name="name">orls.gen.surgery.rotation.procedures.operations.search</field>
        <field name="model">orls.gen.surgery.rotation.procedures.operations</field>
        <field name="arch" type="xml">
            <search string="Medical Residency Rotations">

                <separator/>
            </search>
        </field>
    </record>

    <!-- training plan action-->
    <record id="action_zaneqas_tb_xpert_eqa_expected_results" model="ir.actions.act_window">
        <field name="name">Rotations</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">orls.gen.surgery.rotation.procedures.operations</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                create a rotation
            </p>
        </field>
    </record>


</odoo>
